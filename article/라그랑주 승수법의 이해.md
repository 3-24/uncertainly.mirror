# 라그랑주 승수법의 이해

이 문서는 라그랑주 승수법Lagrange Multiplier Method이 명확하게 적용되는 범위나 정리 그 자체를 논하지 않습니다. 이해와 적용에 도움이 되는 직관만 다룹니다.

$f(x,y) = c$ 라는 제한 조건에서 $g(x, y)$의 최대값이나 최소값을 구하는 문제를 고려해봅시다. 물론, $f$와 $g$는 연속이고 미분 가능합니다.

## 제한 조건이 없을 때

제한 조건이 없을 때의 극값을 구하는 상황에서는 미분을 이용할 수 있습니다. $g(x,y)$의 기울기gradient를 구하고 0이 되는 경우를 탐색할 것입니다. 이 상황에서 최대나 최소를 나타내는 점인 극점의 정의가 그렇기 때문이죠.
$$
\nabla g(x,y) = 0
$$
하지만 우리는 불행히도 $f(x,y)=c$를 고려해줘야 합니다.

## 제한 조건이 있을 때

### 직접 접근하기

주제를 전환해서, 이번에는 $f(x,y)=c$라는 조건에서 $g(x,y)$의 최대값이나 최소값을 구하는 것을 정리의 힘을 빌리지 않고 접근해봅시다. 가장 쉬운 방법은 $g(x,y) $를 좌표공간에 그리고, $f(x,y)$와 교차하는 부분에서 $z$값의 분포를 보는 것입니다.

![lagrange_image01](D:\workspace\uncertainly.tistory.com\drawings\lagrange_image01.PNG)

이 그림에서는 $g$가 검은색 영역, 제한 조건 $f(x,y)=c$가 빨간 경계로 표현되었습니다. 파란 점이 최대, 초록 점이 최소를 나타내는 것을 확인할 수 있습니다.

### 기울기를 이용하도록 약간 변형을 하자!

일단 목표는 처음에 제한 조건 없이 풀 때의 방법을 적용할 수 있도록 파란 점이나 초록 점을 어떤 함수의 극점으로 만드는 것입니다.

위 그림에서 파란 점을 중심으로 생각을 해보면 반드시 $f(x, y)=c$를 만족하기 때문에 $g$를 다음과 같이 변형한 새로운 함수 $h$를 유동적으로 만들 수 있다는 점을 알 수 있습니다. $f (x, y) = c$를 만족할 때 $h (x, y)$의 최대, 최소 문제는 $g(x,y)$의 최대, 최소 문제와 정확히 일치합니다.
$$
h(x,y) = g(x,y) + \lambda ( f(x,y) - c)
$$
여기서 $\lambda$를 '아주 잘' 골라서 뭔가 $h(x,y)$의 극값이 파란 점을 겨냥할 수 있도록 만들 수 있을 것 같아요. 그러니까,
$$
\nabla h (x,y) = \nabla g(x,y) + \lambda \nabla f(x,y) = 0
$$
이걸 만족하고 $f (x, y) = c$가 여전히 성립하는 $(x,y)$에는 파란 점이 포함된다는 것이죠. $\lambda$ 선택의 자유도가 너무 높아서 발생하는 현상이라고 생각합니다. $g (x , y)$에서 $f(x, y) = c$를 의미하는 빨간 경계의 안쪽/바깥쪽과 파란 점을 생각해보면, $f(x ,y)$를 $\lambda $만큼 반복해서 더하거나 뺀다면 안쪽에 비해 바깥쪽을 임의로 높여주거나 낮춰주는 효과를 불러옵니다. 따라서 최대

그리고 이 생각은 우리가 사용하는 라그랑주 승수법을 뜻imply합니다.